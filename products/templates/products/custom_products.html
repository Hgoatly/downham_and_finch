{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
<!-- This section copied and adapted from the Boutique Ado project -->
<div class="overlay"></div>
    <div class="container-fluid">
        <div class="row">
            <div class="col text-center mt-3">
                <h2 class="logo-font">Custom Products</h2>
                 <div class="row">
            <div class="product-container col-10 offset-1">
                {% for product in custom_products %}
                <select name="custom_options" id="custom-options">
                    <option value="{{ product.display_name }}">Name</option>
                </select>
                {% endfor %}
                <hr class="w-50 mb-1"> 
            </div>
        </div>
       {{ custom_products }}
       {% for items in custom_products %}
            {{ items.display_name }}
       {% endfor %}

       {{ fabric_choices }}
               
{% endblock %}

{% block postloadjs %}
    {{ block.super }}
    <script type="text/javascript">
		$('.btt-link').click(function(e) {
			window.scrollTo(0,0)
		})
	</script>
    <script type="text/javascript">
    $('#sort-selector').change(function(){
        var selector = $(this);
        var currentUrl = new URL(window.location);

        var selectedVal = selector.val();
        if(selectedVal != "reset"){
            var sort = selectedVal.split("_")[0];
            var direction = selectedVal.split("_")[1];

            currentUrl.searchParams.set("sort", sort);
            currentUrl.searchParams.set("direction", direction);

            window.location.replace(currentUrl);
        } else {
            currentUrl.searchParams.delete("sort");
            currentUrl.searchParams.delete("direction");
        }
    })
    </script>
{% endblock %}
   
